<?xml version="1.0" encoding="UTF-8"?>
<script xmlns="http://dtf.org/v1" name="http">
    <info>
        <author>
            <name>Rodney Gomes</name>
            <email>rlgomes@yahoo-inc.com</email>
        </author>
        <description>
        Simple http tags test to validate the basic functionality of each of the
        tags. This test requires that the www.example.org server is acessible at
        the time of execution.
        </description>
    </info>

    <local>
        <createstorage id="INPUT" path="${dtf.xml.path}/input"/>
        <createstorage id="OUTPUT" path="${dtf.xml.path}/output"/>
       
        <loadproperties uri="storage://INPUT/ut.properties"/>
        
        <property name="perfrun" value="false"/>
    </local> 
 
    <for property="protocol" range="http,https"> 
	    <record uri="storage://OUTPUT/https.out"> 
	        <for property="i" range="1..${iterations.tiny}">
			    <http_get uri="${protocol}://mail.google.com"
			              onFailure="continue"/>
	        </for>
	    </record>
	    
	    <query uri="storage://OUTPUT/https.out"
	           cursor="events"/> 
	    
	    <stats cursor="events" event="http.get"/>
	    <log>${protocol} gets/s: ${http.get.avg_occ}</log>
    </for>
</script>